<div class="container">

    <div class="spacer"></div>

    <div class="row">

        <div *ngIf="invKeyService.isSuccess" class="col-12" class="notification n-green">
            Welcome to Floiir! You was invited by: {{ invKeyService.invitationKey.inviter.fullName }}
        </div>

        <div *ngIf="invKeyService.isError" class="col-12" class="notification n-red">
            Oops! We've encountered error with your invitation key. Please contact administrator.
        </div>

        <div *ngIf="invKeyService.wasKeyNotFound" class="col-12" class="notification n-red">
            Oops! Flooir did not find this invitation key. Please contact administrator.
        </div>

        <div *ngIf="invKeyService.isKeyInvalid" class="col-12" class="notification n-red">
            Oops! It looks that this invitation key is invalid. Please contact the person who invited you.
        </div>

        <div *ngIf="invKeyService.wasKeyUsed" class="col-12" class="notification n-red">
            Oops! It looks that this invitation key was already used. Please contact the person who invited you.
        </div>

    </div>

    <div class="row header-row" *ngIf="invKeyService.isSuccess">
        <div class="col-12" class="header">
            Register
        </div>
    </div>

    <div class="row" *ngIf="invKeyService.isSuccess">

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" autocomplete="on">

            <div class="col-5">

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>First name</mat-label>
                        <input matInput placeholder="First name" minlength="1" maxlength="35" required
                            formControlName="firstName" autocomplete="given-name">
                    </mat-form-field>

                </div>

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>Last name</mat-label>
                        <input matInput placeholder="Last name" minlength="1" maxlength="35" formControlName="lastName"
                            required autocomplete="family-name">
                    </mat-form-field>

                </div>

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>Login</mat-label>
                        <input matInput placeholder="Login" minlength="5" maxlength="20" formControlName="login"
                            required autocomplete="username">
                    </mat-form-field>

                </div>

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>Password</mat-label>
                        <input matInput type="password" placeholder="Password" minlength="6" maxlength="254" required
                            formControlName="password" autocomplete="new-password">
                    </mat-form-field>

                </div>

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>Confirm password</mat-label>
                        <input matInput type="password" placeholder="Confirm password" minlength="6" maxlength="254"
                            required formControlName="confirmPassword" autocomplete="new-password">
                        <mat-error *ngIf="registerForm.controls.confirmPassword.errors?.passwordsMismatch">
                            Passwords do not match
                        </mat-error>
                    </mat-form-field>

                </div>

                <div class="col-12">

                    <mat-form-field class="form-field">
                        <mat-label>Email</mat-label>
                        <input matInput type="email" placeholder="Email" minlength="6" maxlength="254" required
                            formControlName="email" autocomplete="email">
                    </mat-form-field>

                </div>

            </div>

            <div class="col-7">

                <div class="terms mat-elevation-z3">{{terms}}</div>

                <div class="row captcha-submit-container">

                    <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>

                    <div class="col-8">
                        <re-captcha #reCaptchaRef (resolved)="onReCaptchaResolve($event)" [siteKey]="reCaptchaKey">
                        </re-captcha>
                    </div>

                    <div class="col-4">
                        <div class="submit-container">
                            <button mat-raised-button type="submit" class="submit-btn" color="primary"
                                [disabled]="!registerForm.valid" [disabled]="loading">Submit</button>
                        </div>
                    </div>

                </div>


            </div>

        </form>
    </div>

</div>